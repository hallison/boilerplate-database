#!/bin/bash

## dstk - Datasource Toolkit
##
## SUMMARY
##
##   A set of scripts that configure the connection to the database, apply
##   data migration through versions and patches using SQL files
##
## USAGE
##
##   dstk <COMMAND> [OPTIONS]
##
## COMMANDS

unset CDPATH

#- Runtime environment
: PREFIX=${PREFIX:-_PREFIX}
export DSTK_BINDIR=${DSTK_BINDIR:-${PREFIX:-.}/bin}
export DSTK_LIBDIR=${DSTK_LIBDIR:-${PREFIX:-.}/lib/dstk}
export DSTK_COMMANDS_LIBDIR=${DSTK_LIBDIR}/commands
export DSTK_REPOSITORIES_LIBDIR=${DSTK_LIBDIR}/repositories
export DSTK_ENVIRONMENT=${DSTK_LIBDIR}/environment.sh
export DSTK_BASE=${DSTK_LIBDIR}/base.sh

#- Environment
source "${DSTK_ENVIRONMENT}"
source "${DSTK_BASE}"

dstk_run ${@}

# vim: filetype=sh
